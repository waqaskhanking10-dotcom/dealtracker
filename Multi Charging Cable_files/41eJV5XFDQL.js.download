var LoggingClientManager;(()=>{var e={39:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,t.EventType={error:0,0:"error",impression:1,1:"impression",performance:2,2:"performance",renderAnalysis:3,3:"renderAnalysis",interaction:4,4:"interaction",viewability:5,5:"viewability"}},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VISUAL_COMPLETENESS_LATENCY=t.UNCAUGHT_ERROR=t.CREATIVE_LOAD_LATENCY=void 0;let i=t.UNCAUGHT_ERROR="uncaughtError";t.CREATIVE_LOAD_LATENCY="creativeLoadLatency",t.VISUAL_COMPLETENESS_LATENCY="visualCompletenessLatency",t.default=class{constructor(e){if(this.events={[i]:{}},this.timers={},this.onNewError=()=>{},this.window=e&&e.window||"undefined"!=typeof window&&window,!this.window||!this.window.document)throw new Error("Window and/or document is not defined");this.trackLoadLatency(),this.trackVisualCompletenessLatency(),this.addErrorListener()}trackLoadLatency(){this.timers.creativeLoadLatency=new Date}trackVisualCompletenessLatency(){this.timers.visualCompletenessLatency=new Date}addErrorListener(){let e=this.events[i];this.addListener(this.window,"error",t=>{let i=t.message;t.error&&t.error.stack&&(i=(t=t.message+" : "+t.error.stack).length<500?t:t.substring(0,500)),void 0===e[i]&&(e[i]=!0,this.onNewError(i))})}addListener(...e){let t=e[0],i=e[1],n=e[2],r=(e=window.event)=>n(e);if(t.addEventListener)t.addEventListener(i,r,!0);else{var s="on"+i;if(t.attachEvent)t.attachEvent(s,r);else{let i=t[s];t[s]=()=>{r.apply(this,...e),"function"==typeof i&&i.apply(this,...e)}}}}}},319:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlfElementClickType=void 0,t.AlfElementClickType={AMAZON_LOGO:"amazon-logo",BACKGROUND:"background",CTA:"cta",DEAL_BADGE:"deal-badge",HEADLINE:"headline",PRIME_BADGE:"prime-badge",PRODUCT_IMAGE:"product-image",PRODUCT_RATING:"product-rating",PRODUCT_TITLE:"product-title",VIDEO:"video"}},334:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselMetricEvent=t.AlfElementClickType=t.VideoMetricEvent=t.RenderAnalysisEventSubType=t.ALLOWLISTED_TEMPLATES=t.PerformanceType=t.ErrorType=t.EventType=void 0;let n=i(745),r=(Object.defineProperty(t,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}}),i(397)),s=(Object.defineProperty(t,"PerformanceType",{enumerable:!0,get:function(){return r.PerformanceType}}),i(39)),a=(Object.defineProperty(t,"EventType",{enumerable:!0,get:function(){return s.EventType}}),i(644)),o=(Object.defineProperty(t,"RenderAnalysisEventSubType",{enumerable:!0,get:function(){return a.RenderAnalysisEventSubType}}),i(319)),d=(Object.defineProperty(t,"AlfElementClickType",{enumerable:!0,get:function(){return o.AlfElementClickType}}),i(730)),l=(Object.defineProperty(t,"VideoMetricEvent",{enumerable:!0,get:function(){return d.VideoMetricEvent}}),i(499)),c=(Object.defineProperty(t,"CarouselMetricEvent",{enumerable:!0,get:function(){return l.CarouselMetricEvent}}),i(411));Object.defineProperty(t,"ALLOWLISTED_TEMPLATES",{enumerable:!0,get:function(){return c.ALLOWLISTED_TEMPLATES}})},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BssClickType=void 0,t.BssClickType={EXPANSION:"expansionClicks",DETAIL_PAGE:"detailPageClicks",ADD_TO_CART:"addToCartClicks",AUTHOR_BIO:"authorBioClicks",SEE_MORE:"seeMoreClicks"},t.default=class{bssClickData={expansionClicks:0,detailPageClicks:0,addToCartClicks:0,authorBioClicks:0,seeMoreClicks:0};constructor(){}trackBssClick(e){this.bssClickData[e]+=1}createBssPayload(){return this.hasInteractionData()?{...this.bssClickData}:null}clearBssData(){this.bssClickData={expansionClicks:0,detailPageClicks:0,addToCartClicks:0,authorBioClicks:0,seeMoreClicks:0}}hasInteractionData(){return 0<this.bssClickData.expansionClicks||0<this.bssClickData.detailPageClicks||0<this.bssClickData.addToCartClicks||0<this.bssClickData.authorBioClicks||0<this.bssClickData.seeMoreClicks}}},389:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=i(334);t.default=class{props;interactionListenerElement=void 0;interactionData={clickCount:0,hoverCount:0,hoverInMilliseconds:0,renderTimeSlotSize:""};hoverTimeStart=0;constructor(e){this.props=e,this.interactionListenerElement=e.element,this.setupListenerForHovers()}createInteractionEvent(){var e;if(this.getHoverTime(),0<this.interactionData.clickCount||0<this.interactionData.hoverCount||0<this.interactionData.hoverInMilliseconds)return e={eventType:n.EventType.interaction,impressionId:this.props.impressionId,templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId,creativeVariation:this.props.creativeVariation,creativeFormat:this.props.creativeFormat,dimensions:{clicks:this.interactionData.clickCount,hovers:this.interactionData.hoverCount,timeInHoverMs:this.interactionData.hoverInMilliseconds,renderTimeSlotSize:this.interactionData.renderTimeSlotSize},creativeId:this.props?.creativeId??"unknown",size:this.props.size??"unknown"},this.props.is1p&&this.props.domain&&(e.domain=this.props.domain,e.is1p=this.props.is1p),e}updateRenderTimeSlotSize(e){this.interactionData={clickCount:this.interactionData.clickCount,hoverCount:this.interactionData.hoverCount,hoverInMilliseconds:this.interactionData.hoverInMilliseconds,renderTimeSlotSize:e}}clearInteractionData(){this.interactionData={clickCount:0,hoverCount:0,hoverInMilliseconds:0,renderTimeSlotSize:""}}setupListenerForHovers(){this.interactionListenerElement?.addEventListener("click",()=>{this.recordClick()}),this.interactionListenerElement?.addEventListener("mouseenter",()=>{this.hoverTimeStart=Date.now()}),this.interactionListenerElement?.addEventListener("mouseleave",()=>{this.getHoverTime()})}getHoverTime(){var e;0<this.hoverTimeStart&&(0<(e=Date.now()-this.hoverTimeStart)&&(this.recordHover(),this.recordTimeInHover(e)),this.hoverTimeStart=0)}recordClick(){var e=this.interactionData.clickCount;this.interactionData={clickCount:e+1,hoverCount:this.interactionData.hoverCount,hoverInMilliseconds:this.interactionData.hoverInMilliseconds,renderTimeSlotSize:this.interactionData.renderTimeSlotSize}}recordHover(){var e=this.interactionData.hoverCount;this.interactionData={clickCount:this.interactionData.clickCount,hoverCount:e+1,hoverInMilliseconds:this.interactionData.hoverInMilliseconds,renderTimeSlotSize:this.interactionData.renderTimeSlotSize}}recordTimeInHover(e){var t=this.interactionData.hoverInMilliseconds;this.interactionData={clickCount:this.interactionData.clickCount,hoverCount:this.interactionData.hoverCount,hoverInMilliseconds:t+e,renderTimeSlotSize:this.interactionData.renderTimeSlotSize}}}},397:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceType=void 0,t.PerformanceType={buyboxRender:"buyboxRender",fontsRender:"fontsRender",gridBuilderBuyBoxRender:"gridBuilderBuyBoxRender",asinImageRender:"asinImageRender",customImageRender:"customImageRender",bundleRender:"bundleRender",colorRender:"colorRender"}},411:(e,t)=>{var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ALLOWLISTED_TEMPLATES=t.D16GTemplateKeys=void 0,(n=i||(t.D16GTemplateKeys=i={})).DYNAMIC_ECOMMERCE_TEMPLATE="DACXDynamicTemplates-DynamicEcommerceTemplate_1.0",n.DYNAMIC_ECOMMERCE_TEMPLATE_VIDEO="DACXDynamicTemplates-DynamicEcommerceTemplate_1.0_Video",n.PERC_TEMPLATES="PERCTemplates-PERCTemplates_1.0",n.LEGACY_PERC_TEMPLATES="LEGACY_PERCTemplates-PERCTemplates_1.0",t.ALLOWLISTED_TEMPLATES=[i.DYNAMIC_ECOMMERCE_TEMPLATE,i.DYNAMIC_ECOMMERCE_TEMPLATE_VIDEO,i.PERC_TEMPLATES,i.LEGACY_PERC_TEMPLATES]},499:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselMetricEvent=void 0,t.CarouselMetricEvent={LOOP:"CarouselLoop",SWIPE:"CarouselSwipe",AUTOPLAY_STARTED:"CarouselAutoplayStarted",AUTOPLAY_PAUSED:"CarouselAutoplayPaused",AUTOPLAY_ENDED:"CarouselAutoplayEnded",CLICK:"CarouselClick",VISIBLE:"CarouselVisible"}},528:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=i(334);t.default=class{props;initialViewability=null;maxViewability=0;timeInView={total:0,start:0};timeInImpression={total:0,start:0};boundingIframeSize=null;initialScrollDepth=null;constructor(e){var t=(this.props=e).element.getBoundingClientRect();this.getInitialBoundingIframeSize(t),this.getInitialScrollDepth(t),this.setUpIntersectionObserver(e.element)}getInitialBoundingIframeSize(e){var t=e.right-e.left;null===this.boundingIframeSize&&(this.boundingIframeSize=t+"x"+(e.bottom-e.top))}getInitialScrollDepth(e){var t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),i=window.innerHeight;e=window.pageYOffset+e.top;null===this.initialScrollDepth&&(this.initialScrollDepth=e/(t-i)*100)}setUpIntersectionObserver(e){new IntersectionObserver(e=>{e.forEach(e=>{e=Math.floor(100*e.intersectionRatio),null===this.initialViewability&&(this.initialViewability=e),this.maxViewability=Math.max(this.maxViewability,e),0<e&&this.startTimeInTimer(this.timeInView),e<=0&&this.recordTimeInTotal(this.timeInView),50<=e&&this.startTimeInTimer(this.timeInImpression),e<50&&this.recordTimeInTotal(this.timeInImpression)})},{threshold:Array.from({length:101},(e,t)=>t/100)}).observe(e)}startTimeInTimer(e){0===e.start&&(e.start=Date.now())}recordTimeInTotal(e){0!==e.start&&(e.total+=Date.now()-e.start,e.start=0)}createViewabilityEvent(){return this.recordTimeInTotal(this.timeInView),this.recordTimeInTotal(this.timeInImpression),{eventType:n.EventType.viewability,impressionId:this.props.impressionId,templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId||"default",size:this.props.size||"unknown",creativeVariation:this.props.creativeVariation||"default",creativeFormat:this.props.creativeFormat||"unknown",dimensions:{initialViewabilityPercentage:this.initialViewability||0,maximumViewabilityPercentage:this.maxViewability,timeInViewMs:this.timeInView.total,timeInImpressionMs:this.timeInImpression.total,boundingIframeSize:this.boundingIframeSize||"unknown",scrollDepth:this.initialScrollDepth??void 0}}}}},644:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderAnalysisEventSubType=void 0,t.RenderAnalysisEventSubType={acei:0,0:"acei",truncation:1,1:"truncation",bss:2,2:"bss",video:3,3:"video",clicks:4,4:"clicks",clickTrackerPixelFire:5,5:"clickTrackerPixelFire",carousel:6,6:"carousel"}},730:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMetricEvent=t.VideoOrientation=void 0,t.VideoOrientation={PORTRAIT:"Portrait",LANDSCAPE:"Landscape",SQUARE:"Square"},t.VideoMetricEvent={CLIENT_LOAD_TO_FIRST_FRAME:"ClientLoadToFirstFrame",TIME_TO_FIRST_FRAME:"TimeToFirstFrame",TIME_TO_FIRST_INTERRUPT:"TimeToFirstInterrupt",VIDEO_ABORTED:"VideoAborted",VIDEO_BUFFERING_ENDED:"VideoBufferingEnded",VIDEO_BUFFERING_STARTED:"VideoBufferingStarted",VIDEO_PAUSED:"VideoPaused",VIDEO_PLAYBACK_COMPLETED:"VideoPlaybackCompleted",VIDEO_PLAYBACK_FAILURE:"VideoPlaybackFailure",VIDEO_PLAYBACK_PROGRESS_TWO_SECONDS:"VideoPlaybackProgressTwoSeconds",VIDEO_PLAYBACK_STARTED:"VideoPlaybackStarted",VIDEO_READY_FOR_PLAYBACK:"VideoReadyForPlayback"}},745:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=void 0,t.ErrorType={render:0,0:"render",layout:1,1:"layout",component:2,2:"component",misc:3,3:"misc",uncaught:4,4:"uncaught",buybox:5,5:"buybox"}},787:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=i(334);t.default=class{props;performanceTrackerElement=void 0;adStartTime=void 0;bundleLoadedTime=void 0;trackedComponentTimers=new Set;componentEndTimes=new Map;componentLatencies=[];adLoadTimeMs=null;constructor(e){this.props=e,this.performanceTrackerElement=e.element,this.adStartTime=e.adStartTime,this.bundleLoadedTime=e.bundleLoadedTime}endComponentTimer(e,t){t=void 0!==t?t:performance.now(),this.trackedComponentTimers.has(e)?console.warn(`PerformanceTracker: Timer for ${e} already exists.`):(this.componentEndTimes.set(e,t),this.trackedComponentTimers.add(e))}calculateAdLoadTime(){var e;0<this.componentEndTimes.size&&this.adStartTime&&(e=Math.max(...Array.from(this.componentEndTimes.values())),this.adLoadTimeMs=e-this.adStartTime)}calculateComponentLatencies(){this.componentLatencies=[],this.adStartTime&&0<this.componentEndTimes.size&&(this.componentEndTimes.forEach((e,t)=>{e-=this.adStartTime,this.componentLatencies.push({type:t,latencyMs:e})}),this.bundleLoadedTime&&this.componentLatencies.push({type:n.PerformanceType.bundleRender,latencyMs:this.bundleLoadedTime-this.adStartTime}),this.calculateAdLoadTime())}createPerformanceEvent(){return this.calculateComponentLatencies(),this.adStartTime&&0!==this.componentLatencies.length?{eventType:n.EventType.performance,impressionId:this.props.impressionId,templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId||"default",size:this.props.size||"unknown",bidId:this.props.bidId??"unknown",creativeVariation:this.props.creativeVariation||"default",creativeFormat:this.props.creativeFormat||"unknown",creativeId:this.props.creativeId??"unknown",templateName:this.props.templateName||"none",domain:this.props.domain,is1p:this.props.is1p,dimensions:{adLoadTimeMs:this.adLoadTimeMs,componentLatencies:this.componentLatencies,bundleLoadTime:this.bundleLoadedTime,is1p:this.props.is1p,site:this.props.site,domain:this.props.domain}}:null}getComponentRenderTime(e){var t=this.componentLatencies.find(t=>t.type===e);return t?t.latencyMs:0}getAdLoadTime(){return this.adLoadTimeMs??0}}},869:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BssClickType=t.SushiLogger=void 0,n=n(i(999));t.SushiLogger=n.default;let r=i(357);Object.defineProperty(t,"BssClickType",{enumerable:!0,get:function(){return r.BssClickType}})},925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});let i={beta:{na:"https://unagi-na.amazon.com/1/events/com.amazon.eel.D16GClientSideMetrics.nexus",eu:"https://unagi-na.amazon.com/1/events/com.amazon.eel.D16GClientSideMetrics.nexus",fe:"https://unagi-na.amazon.com/1/events/com.amazon.eel.D16GClientSideMetrics.nexus"},gamma:{na:"https://unagi-na.amazon.com/1/events/com.amazon.eel.pp.D16GClientSideMetrics.nexus",eu:"https://unagi-na.amazon.com/1/events/com.amazon.eel.pp.D16GClientSideMetrics.nexus",fe:"https://unagi-na.amazon.com/1/events/com.amazon.eel.pp.D16GClientSideMetrics.nexus"},prod:{na:"https://unagi-na.amazon.com/1/events/com.amazon.eel.p.D16GClientSideMetrics.nexus",eu:"https://unagi-eu.amazon.com/1/events/com.amazon.eel.p.D16GClientSideMetrics.nexus",fe:"https://unagi-fe.amazon.com/1/events/com.amazon.eel.p.D16GClientSideMetrics.nexus"}},n=i.beta.na;t.default=function(e,t){return e in i&&t in(e=i[e])?e[t]:n}},999:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(334),s=n(i(925)),a=n(i(528)),o=n(i(389)),d=n(i(787)),l=n(i(357));t.default=class{props;sushiEndpoint;events=[];hasSentInitialEvents=!1;interactionListener=null;viewabilityListener=null;performanceTracker=null;bssTracker=null;adContainerElement=null;hasSentInteractionEventsWithClicks=!1;constructor(e){this.props=e,this.sushiEndpoint=(0,s.default)(e.stage,e.region),this.prepareSendEvents()}setUpListener(e,t,i){(this.adContainerElement=e)&&null===this.interactionListener&&(this.interactionListener=new o.default({...this.props,element:e}),this.viewabilityListener=new a.default({...this.props,element:e}),this.performanceTracker=new d.default({...this.props,element:e,adStartTime:t,bundleLoadedTime:i}))}prepareSendEvents(){"undefined"!=typeof document&&document?.addEventListener("visibilitychange",()=>{"hidden"===document?.visibilityState&&this.sendBeaconEvents()}),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.beforeUnloadCallback)}beforeUnloadCallback=()=>{window.removeEventListener("beforeunload",this.beforeUnloadCallback),this.sendBeaconEvents()};addEvent(e){this.events.push({data:e})}getSushiFormattedEvents(){return{events:this.events}}addErrorEvent(e,t){e={eventType:r.EventType.error,impressionId:this.props.impressionId,bidId:this.props?.bidId??"unknown",templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId||"default",size:this.props.size||"unknown",templateName:this.props.templateName||"none",creativeVariation:this.props.creativeVariation||"default",creativeFormat:this.props.creativeFormat||"unknown",dimensions:{errorType:e,message:t},creativeId:this.props?.creativeId??"unknown"},this.addEvent(e)}addImpressionEvent(e,t,i){i={eventType:r.EventType.impression,impressionId:this.props.impressionId,bidId:this.props?.bidId??"unknown",templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId||"default",size:this.props.size||"unknown",templateName:this.props.templateName||"none",creativeVariation:this.props.creativeVariation||"default",creativeFormat:this.props.creativeFormat||"unknown",dimensions:{is1p:e,domain:t,site:i},is1p:e,domain:t,creativeId:this.props?.creativeId??"unknown"},this.addEvent(i)}endLoadTimer(e,t){void 0!==t?this.performanceTracker?.endComponentTimer(e,t):this.performanceTracker?.endComponentTimer(e)}addPerformanceEvent(){var e=this.performanceTracker?.createPerformanceEvent();e&&this.addEvent(e)}addRenderAnalysisEvent(e,t){e={eventType:r.EventType.renderAnalysis,impressionId:this.props.impressionId,bidId:this.props?.bidId??"unknown",templateKey:this.props.templateKey,timestamp:(new Date).toISOString(),userAgent:this.props.userAgent,layoutId:this.props.layoutId||"default",size:this.props.size||"unknown",creativeVariation:this.props.creativeVariation||"default",creativeFormat:this.props.creativeFormat||"unknown",domain:this.props.domain,dimensions:{subType:e,payload:t},creativeId:this.props?.creativeId??"unknown"},this.addEvent(e)}addTruncationEvent(e,t,i){e={component:e,visibleChars:t,totalChars:i},this.addRenderAnalysisEvent(r.RenderAnalysisEventSubType.truncation,e)}setUpBssTracking(){null===this.bssTracker&&(this.bssTracker=new l.default)}trackBssClick(e){this.bssTracker?.trackBssClick(e)}updateInteractionEvent(e){this.interactionListener?.updateRenderTimeSlotSize(e)}async sendEvents(){if(0!==this.events.length){var e={body:JSON.stringify(this.getSushiFormattedEvents()),headers:{"Content-Type":"application/json"}};try{var t=await fetch(this.sushiEndpoint,{method:"POST",mode:"no-cors",...e});if(!t.ok)throw new Error("HTTP error status: "+t.status);this.clearEvents()}catch(e){throw console.error("Failed to send events:",e),e}}}appendRenderAnalysisEvent(){var e;this.adContainerElement&&(e=this.adContainerElement.querySelectorAll("[data-acei-id]"),e={renderedSCE:Array.from(e).map(e=>e.getAttribute("data-acei-id")).filter(e=>null!==e)},this.addRenderAnalysisEvent(r.RenderAnalysisEventSubType.acei,e))}sendBeaconEvents(){!1===this.hasSentInitialEvents&&(this.hasSentInitialEvents=!0,(e=this.viewabilityListener?.createViewabilityEvent())&&this.addEvent(e),(e=this.bssTracker?.createBssPayload())&&this.addRenderAnalysisEvent(r.RenderAnalysisEventSubType.bss,e),this.appendRenderAnalysisEvent(),this.addPerformanceEvent());var e=this.interactionListener?.createInteractionEvent();!this.hasSentInteractionEventsWithClicks&&e&&(this.hasSentInteractionEventsWithClicks=0<e?.dimensions?.clicks,this.addEvent(e)),0!==this.events.length&&(navigator.sendBeacon(this.sushiEndpoint,JSON.stringify(this.getSushiFormattedEvents()))?this.clearEvents():console.error("POST attempt failed: events not queued for transfer"))}clearEvents(){this.events=[],this.interactionListener?.clearInteractionData(),this.bssTracker?.clearBssData()}}}},t={};function i(n){var r=t[n];return void 0!==r||(r=t[n]={exports:{}},e[n].call(r.exports,r,r.exports,i)),r.exports}var n,r,s,a={};n=a,Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=i(869),s=i(72),n.default=class{constructor(e,t){var i;if(this.window=e.window||"undefined"!=typeof window&&window,!this.window||!this.window.document)throw new Error("Window and/or document is not defined");var n=null==(n=window)||null==(n=n.navigator)?void 0:n.userAgent;this.csmLogger=new r.SushiLogger({stage:e.stage,region:e.region,impressionId:e.impressionId,userAgent:n,templateKey:"LEGACY_PERCTemplates-PERCTemplates_1.0",templateName:e.templateName,layoutId:"default",size:e.size}),n=window.location!==window.parent.location?document.referrer:document.location.href;null!=(i=this.csmLogger)&&i.addImpressionEvent(e.is1p,n),this.performanceEventManager=t,this.addErrorListener()}addErrorListener(){var e,t=e=>{var t;null!=(t=this.csmLogger)&&t.addErrorEvent(4,e)};for(e in this.performanceEventManager.onNewError=t,this.performanceEventManager.events[s.UNCAUGHT_ERROR])t(e)}},LoggingClientManager=a})();