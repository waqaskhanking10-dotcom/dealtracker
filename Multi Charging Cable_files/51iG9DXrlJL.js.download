'use strict';mix_d("ARCxFinderCards__arcx-finder:arcx-finder__0YOZsw9S","require exports tslib @c/browser-operations @c/metrics @c/aui-utils @c/scoped-dom @c/dom @c/remote-operations @c/tracking @c/aui-feature-detect @c/logger".split(" "),function(Ha,Ia,f,vb,F,wb,xb,A,yb,Ja,zb,Ab){function na(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}function Ka(b){if(b&&b.__esModule)return b;var a=Object.create(null);b&&Object.keys(b).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(b,
c);Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:function(){return b[c]}})}});a["default"]=b;return a}var n=na(xb),La=na(zb),oa=na(Ab),q;(function(b){b.attributeSelected="attributeSelected";b.finderAction="finderAction";b.changeOverlayTab="changeOverlayTab";b.tabSelected="tabSelected";b.savedProductsShowResults="savedProductsShowResults";b.showcasePrevious="showcasePrevious";b.showcaseShowResults="showcaseShowResults";b.fitmentAction="fitmentAction";b.fitmentActionClear="fitmentActionClear";
b.productSelected="productSelected";b.addProductSubmit="addProductSubmit";b.saveProductCheckbox="saveProductCheckbox"})(q||(q={}));var pa=q,K=function(b){return function(a){return a.charAt(0)[b]()+a.slice(1)}}("toUpperCase"),Bb=["saveProduct","selectProduct"],Cb="render attributesAllSelected addProductSubmit mainStripeAction fitmentSuccess fitmentInfo fitmentWarning fitmentFailure fitmentChange fitmentAddNew attributeStripeAction productStripeAction seeAllAction".split(" "),Db=["addProductShown",
"overlayShown"],Eb=["stripeActionIndex"],Fb=["attributeInteractions"],Gb=function(){return function(b){var a=this;this.add=function(c){a.total+=c};this.increment=function(){return a.add(1)};this.submit=function(){F.count("ARCxFinder:"+K(a.name),a.total);a.total=0};this.name=b;this.total=0}}(),Ma=function(b){return function(){var a="ARCxFinder:"+K(b);F.count(a,1)}},Hb=function(b){return wb.once(Ma(b))},Ib=function(b){return function(a){var c="ARCxFinder:"+K(b);F.count(c,a)}},Jb=function(b){return new Gb(b)},
X=function(b,a,c){b.reduce(function(d,e){d[e]=a(e);return d},c)},v={},Y={},Z={},S={},Kb={__proto__:null,counters:v,onceCounters:Y,valueCounters:Z,accumulatorCounters:S,init:function(){X(Cb,Ma,v);X(Db,Hb,Y);X(Eb,Ib,Z);X(Fb,Jb,S)}},T=function(){return A.unscope(n["default"].cardRoot).ownerDocument.defaultView},Lb=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)},Mb=function(b){return-1<b.tabIndex},r=function(b,a){return b&&b.classList.add(a)},t=function(b,a){return b&&
b.classList.remove(a)},aa=function(b,a){b.innerHTML="";"string"===typeof a?b.innerHTML=a:b.appendChild(a);return b},qa=function(b,a,c){b=c?b.querySelector("."+c):b;aa(b,a)},Na=function(b){return t(b,"aok-hidden")},ra=function(b){return b.forEach(Na)},Oa=function(b){return r(b,"aok-hidden")},sa=function(b){return b.forEach(Oa)},y=function(b){return b.currentTarget.dataset||{}},Pa=function(b){var a;if(a=b)b.tabIndex=-1,a=void 0;return a},Qa=function(b){var a=[];b&&(a=Array.from(b.querySelectorAll("a[href],button:not([disabled]),input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[tabindex]")));
return a.filter(Lb)},ta=function(b){var a=Z.stripeActionIndex;var c=(c=b.currentTarget)?Array.from(c.parentNode.children).indexOf(c):-1;a.call(Z,c);b=y(b);if((b=b.metricsKey||b.metricskey)&&v[b])v[b]()},Nb={Saved:"_sv",Purchased:"_pps"},Ob=function(b){return function(a){return b(a.detail)}},l=function(b,a){n["default"].cardRoot.addEventListener(b,Ob(a))},p=function(b,a){n["default"].cardRoot.dispatchEvent(new CustomEvent(b,{detail:a}))},B=function(b){var a=null;if(b)try{a=JSON.parse(b)}catch(c){}return a},
g,ua=f.__assign({},{getOverlayContent:"ovr",getNextAttribute:"attr",getTabContent:"tbc",saveProduct:"asvp",deleteSavedProduct:"dsvp",setMostRecentlyUsedProduct:"rmru"}),va,Pb=function(b,a){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return f.__awaiter(void 0,void 0,void 0,function(){var e,k,h;return f.__generator(this,function(m){switch(m.label){case 0:(e=Bb.includes(b)?"":b)&&F.uet("bb","ARCxFinder:"+K(e),{wb:1}),m.label=1;case 1:return m.trys.push([1,3,4,5]),p("remote-operation:start"),
[4,a.apply(null,c)];case 2:return k=m.sent(),e&&F.uet("cf","ARCxFinder:"+K(e),{wb:1}),[3,5];case 3:return h=m.sent(),p("remote-operation:error",{statusCode:h.statusCode}),[3,5];case 4:return e&&F.uex("ld","ARCxFinder:"+K(e),{wb:1}),p("remote-operation:end"),[7];case 5:return[2,k]}})})}},Qb=function(b){var a=w[b],c=ua[b],d=a;c&&(d=Ja.addTracking(a,Ra(c)));w[b]=Pb(b,d)},Ra=function(b){return{ref_:"arcx_cf_"+va+"_"+(La["default"].isSupported("mobile")?"mob":"dsk")+"_"+b,"page-type":va,"sub-page-type":g.finderType}},
Sa=function(b,a){void 0===a&&(a=b);return f.__awaiter(void 0,void 0,void 0,function(){var c,d,e;return f.__generator(this,function(k){switch(k.label){case 0:return c=Ra(b),d=a+"StandaloneTracking",e=Ja.createTracking(d,c),[4,e().catch(function(h){return oa["default"].log("Failed to publish "+d+" refTag:"+c.ref_+" metric to Clickstream: "+h.toString())})];case 1:return k.sent(),[2]}})})},Ta=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a,c;return f.__generator(this,function(d){switch(d.label){case 0:return a=
y(b),(c=a.refmarker)?[4,Sa(c,a.mixOperations)]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},w=yb.setup(),Ua=function(){},Rb=function(){return function(b){var a=this;this.intializeWithSettings=function(c){a.settings=c;a.setRootNode();a.addEventListener()};this.setRootNode=function(){var c=a.settings.rootNode;if("SELECT"===c.tagName)a.rootNode=c;else throw Error("unable to create Dropdown instance, expected <select> root node");};this.handleChange=function(){if(a.rootNode.value)a.settings.onChange(a.rootNode.id,
a.rootNode.value,a.getDisplayText())};this.addEventListener=function(){a.rootNode.addEventListener("change",a.handleChange)};this.setValue=function(c){a.rootNode.value=c};this.getDisplayText=function(){var c=a.rootNode.options,d=Array.from(c).findIndex(function(k){return k.value===a.rootNode.value}),e="";a.rootNode.value&&-1<d&&(e=c[d].text);return e};this.disable=function(){a.rootNode.disabled=!0};this.clear=function(){a.rootNode.value=""};this.updateHtml=function(c){a.intializeWithSettings(f.__assign(f.__assign({},
a.settings),{rootNode:c}))};this.intializeWithSettings(b)}}(),Va=function(b){throw Error("[Autocomplete] "+b);},Sb=function(){return function(b){var a=this;this.handleOverlaySelected=function(c){var d=a.getDisplayTextFromValue(c);a.showValueText(d);a.settings.onChange(a.rootNode.id,c,d)};this.handleTriggerSelected=function(){var c;p("autocomplete-trigger:selected",{id:a.rootNode.id,options:a.options,triggerNode:a.rootNode,inputLabel:null!==(c=a.rootNode.dataset.inputLabel)&&void 0!==c?c:"",onSelect:a.handleOverlaySelected})};
this.handleKeyDown=function(c){" "!==c.key&&"Enter"!==c.key||a.handleTriggerSelected()};this.addEventListeners=function(){a.rootNode.addEventListener("keydown",a.handleKeyDown);a.rootNode.addEventListener("click",a.handleTriggerSelected)};this.getOptions=function(){return B(a.rootNode.dataset.options)};this.getDisplayValueNode=function(){var c=a.rootNode.querySelector("._YXJje_autocompleteValueJS_uKIry");c||Va("unable locate required interior node used to display input value");return c};this.getRootNode=
function(){var c=a.settings.rootNode;"BUTTON"!==c.tagName&&Va("unable to create AutocompleteTrigger instance, expected <button> root node");return c};this.getDisplayTextFromValue=function(c){var d=a.options.findIndex(function(e){return e.value===c});return a.options[d].displayText};this.showValueText=function(c){r(a.rootNode,"_YXJje_autocompleteWithValue_2peqs");a.rootNode.setAttribute("aria-label",c);a.displayValueNode.textContent=c};this.setValue=function(c){return a.showValueText(a.getDisplayTextFromValue(c))};
this.getDisplayText=function(){return a.displayValueNode.textContent};this.disable=function(){a.rootNode.disabled=!0};this.clear=function(){t(a.rootNode,"_YXJje_autocompleteWithValue_2peqs")};this.settings=b;this.rootNode=this.getRootNode();this.displayValueNode=this.getDisplayValueNode();this.options=this.getOptions();this.addEventListeners()}}(),Tb={dropdown:Rb,autocomplete:Sb},Wa=function(){return function(b){var a=this;this.currentSelections=[];this.inputGroupsOrder=[];this.inputInstanceMap={};
this.setCurrentSelections=function(c){var d;a.currentSelections=(null!==(d=c.currentSelections)&&void 0!==d?d:[]).map(function(e){return f.__assign(f.__assign({},e),{displayText:a.getInputInstance(e.id).getDisplayText()})})};this.setVariables=function(c){var d;a.name=null!==(d=c.name)&&void 0!==d?d:"";a.rootNode=c.rootNode;a.formNode=a.getFormNode();a.requiredInputIds=a.getRequiredInputIds()};this.setCallbacks=function(c){var d;a.onAllInputsSelected=c.onAllInputsSelected;a.onSelectionsChanged=null!==
(d=c.onSelectionsChanged)&&void 0!==d?d:Ua};this.setFormAsInitialized=function(){a.formNode.setAttribute("data-initialized","true")};this.getFormNode=function(){return a.name?a.rootNode.querySelector('[data-form-name="'+a.name+'"]'):a.rootNode};this.getRequiredInputIds=function(){return a.getAllInputContainers().map(function(c){c=c.dataset;if("true"===c.required)var d=c.inputId;return d}).filter(Boolean)};this.getGroupIdsMap=function(c){return c.reduce(function(d,e){var k,h=e.dataset;e=h.sequenceRank;
h=h.inputId;e&&(d[e]=(null!==(k=d[e])&&void 0!==k?k:[]).concat(h));return d},{})};this.setInputGroups=function(){var c=a.getGroupIdsMap(a.getAllInputContainers());a.inputGroups=c;a.inputGroupsOrder=Object.keys(c).sort()};this.createAndSetInputInstance=function(c){var d,e=c.id,k=null!==(d=c.dataset.inputType)&&void 0!==d?d:"";if(d=Tb[k])a.inputInstanceMap[e]=new d({rootNode:c,onChange:a.handleInputChanged});else throw Error('unable to initialize input for id "'+e+'" with type "'+k+'"');};this.initializeInput=
function(c){var d=c.dataset.inputId,e=c.querySelector("[id='"+d+"']");if(e)c.setAttribute("data-initialized","true"),a.createAndSetInputInstance(e);else throw Error('unable to find matching node with given input id "'+d+'"');};this.inititalizeInputs=function(){a.getUnitializedInputs().forEach(a.initializeInput)};this.getUnitializedInputs=function(){return a.getAllInputContainers().filter(function(c){return!c.getAttribute("data-initialized")})};this.handleInputChanged=function(c,d,e){a.updateFormWithSelection({id:c,
value:d,displayText:e})};this.updateFormWithSelection=function(c){a.updateCurrentSelections(c);if(a.doAllInputsHaveValues())a.onAllInputsSelected(a.currentSelections);else a.onSelectionsChanged(a.currentSelections)};this.disableAndClearInput=function(c){c=a.getInputInstance(c);c.disable();c.clear()};this.getInputInstance=function(c){return a.inputInstanceMap[c]};this.getAllInputContainers=function(){return Array.from(a.formNode.querySelectorAll("[data-input-id]"))};this.addInitialValuesToSelections=
function(c){c.forEach(function(d){var e=d.dataset;d=e.inputId;(e=e.initialValue)&&d&&a.currentSelections.push({id:d,value:e,displayText:a.getInputInstance(d).getDisplayText()})})};this.replaceInput=function(c){aa(a.getInputContainer(c.dataset.inputId),c)};this.replaceCurrentInputs=function(c){return c.forEach(a.replaceInput)};this.getInputContainer=function(c){return a.formNode.querySelector('[data-input-container-id="'+c+'"]')};this.checkIfAllInputsHaveValues=function(){if(a.doAllInputsHaveValues())a.onAllInputsSelected(a.currentSelections)};
this.updateSelectedIndex=function(c,d){c.value?a.currentSelections[d]=c:(a.currentSelections.splice(d,1),a.getInputInstance(c.id).clear())};this.doAllInputsHaveValues=function(){var c=a.currentSelections.filter(function(e){return e.value}).map(function(e){return e.id}),d=!0;a.requiredInputIds.forEach(function(e){c.includes(e)||(d=!1)});return d};this.getSelectionIndex=function(c){return a.currentSelections.findIndex(function(d){return d.id===c})};this.isNewSelection=function(c,d){c=a.getSelectionIndex(c);
return-1===c||a.currentSelections[c].value!==d};this.updateCurrentSelections=function(c){var d=a.getSelectionIndex(c.id);-1===d?a.updateSelectedIndex(c,a.currentSelections.length):(a.updateSelectedIndex(c,d),a.clearDescendantGroupInputs(c.id))};this.getInputGroupIndex=function(c){return a.inputGroupsOrder.findIndex(function(d){return a.inputGroups[d].includes(c)})};this.clearDescendantGroupInputs=function(c){var d=a.inputGroupsOrder.slice(a.getInputGroupIndex(c)+1).map(function(e){return a.inputGroups[e]}).flat();
a.currentSelections=a.currentSelections.filter(function(e){return!d.includes(e.id)});d.forEach(a.disableAndClearInput)};this.selectInputValue=function(c,d){var e=a.getInputInstance(c),k=!0;e&&a.isNewSelection(c,d)?(e.setValue(d),a.updateFormWithSelection({id:c,value:d,displayText:e.getDisplayText()})):k=!1;return k};this.updateInputs=function(c){a.replaceCurrentInputs(c);a.setInputGroups();a.inititalizeInputs();a.addInitialValuesToSelections(c);a.checkIfAllInputsHaveValues()};this.clear=function(){a.inputGroups[a.inputGroupsOrder[0]].forEach(function(c){return a.updateCurrentSelections({id:c,
value:""})});a.currentSelections=[]};this.setVariables(b);this.setCallbacks(b);this.setInputGroups();this.inititalizeInputs();this.setCurrentSelections(b);this.checkIfAllInputsHaveValues();this.setFormAsInitialized()}}(),ba,C,Xa,Ub=function(b){ba=b.overlayRoot;wa()},Vb=function(){wa()},Ya=function(b){C=b?new Wa({rootNode:b,currentSelections:B(b.dataset.baseAttributeSelections),onSelectionsChanged:Wb,onAllInputsSelected:Xb}):void 0},wa=function(){var b=L();b&&!C&&(Y.addProductShown(),Ya(b))},Wb=function(b){t(L(),
"_YXJje_addProductSubmitEnabled_uiPOG");S.attributeInteractions.increment();Yb(b)},Zb=function(){S.attributeInteractions.submit();v.addProductSubmit();var b=JSON.parse(JSON.stringify(Xa)),a=ba.querySelector("._YXJje_addProductCheckboxJS_26a7r input");p("add-product:submit",{selections:b,entityShouldBeSaved:!(null===a||void 0===a||!a.checked)})},Za=function(){null===C||void 0===C?void 0:C.clear();t(L(),"_YXJje_addProductSubmitEnabled_uiPOG")},$b=function(b){b=y(b);b=B(b.preselectedoptions);(null===
b||void 0===b?0:b.length)&&C&&b.forEach(function(a){C.selectInputValue(a.id,a.value)})},bc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a,c;return f.__generator(this,function(d){switch(d.label){case 0:return d.trys.push([0,,2,3]),[4,w.getNextAttribute({accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType,selections:b})];case 1:return a=d.sent(),c=Array.from(a.children),[2,ac(c)];case 2:return[7];case 3:return[2]}})})},ac=function(b){return b.filter(function(a){return B(L().dataset.requiredAttributes).includes(a.dataset.inputId)})},
Yb=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a,c;return f.__generator(this,function(d){switch(d.label){case 0:return c=(a=C).updateInputs,[4,bc(b)];case 1:return c.apply(a,[d.sent()]),[2]}})})},L=function(){return ba.querySelector("._YXJje_addProductRootJS_2ICjC")},Xb=function(b){S.attributeInteractions.increment();v.attributesAllSelected();Xa=b;r(L(),"_YXJje_addProductSubmitEnabled_uiPOG")},cc=function(){Ya(L())},xa=function(){return La["default"].isSupported("mobile")},
dc=function(){return function(b){var a=this;this.currentSelection=void 0;this.getRootNode=function(){var c=a.settings.listBoxNode;if(!c)throw Error("listBoxNode not found");return c};this.callSettingsCallback=function(c){var d=a.currentSelection;d&&(null!==c&&void 0!==c?c:Ua)(d.dataset.value,d.id)};this.submitSelection=function(){return a.callSettingsCallback(a.settings.onSelect)};this.callChangeCallback=function(){return a.callSettingsCallback(a.settings.onChange)};this.isSelectionBelowViewport=
function(){var c=a.currentSelection;return c.offsetHeight+c.offsetTop>a.rootNode.offsetHeight+a.rootNode.scrollTop};this.isSelectionAboveViewport=function(){return a.rootNode.scrollTop>a.currentSelection.offsetTop};this.updateViewportToShowSelection=function(){var c=a.currentSelection;a.isSelectionBelowViewport()?a.rootNode.scrollTo(0,c.offsetTop-a.rootNode.offsetHeight+c.offsetHeight):a.isSelectionAboveViewport()&&a.rootNode.scrollTo(0,c.offsetTop)};this.shouldSubmitSelection=function(c){return"Enter"===
c||" "===c};this.shouldSelectPreviousOption=function(c){return a.hasSelection()&&"ArrowUp"===c};this.shouldSelectNextOption=function(c){return"ArrowDown"===c};this.handleKeyDown=function(c){var d=c.key;a.shouldSelectPreviousOption(d)?(c.preventDefault(),a.selectPreviousOption()):a.shouldSelectNextOption(d)?(c.preventDefault(),a.selectNextOption()):a.shouldSubmitSelection(d)&&a.submitSelection()};this.handleClick=function(c){c=c.target;c instanceof HTMLElement&&c.matches("._YXJje_listBoxOption_2RGjI")&&
(a.setValue(c),a.submitSelection())};this.addListBoxEventListener=function(){a.rootNode.addEventListener("keydown",a.handleKeyDown);a.rootNode.addEventListener("click",a.handleClick)};this.setActiveDescendant=function(c){return a.rootNode.setAttribute("aria-activedescendant",c)};this.setValue=function(c){a.currentSelection&&t(a.currentSelection,"_YXJje_listBoxOptionSelected_3v8h5");c&&(r(c,"_YXJje_listBoxOptionSelected_3v8h5"),a.setActiveDescendant(c.id));a.currentSelection=c};this.scrollToTopOption=
function(){a.rootNode.scrollTo(0,0)};this.getOption=function(c,d){return'\n            <li\n                id="'+a.rootNode.id+"-option-"+d+'"\n                class="_YXJje_listBoxOption_2RGjI '+(c.disabled?"_YXJje_listBoxOptionDisabled_3nuVE":"")+'"\n                role="option"\n                data-value="'+c.value+'"\n                aria-selected="false"\n            >\n                '+c.displayText+"\n            </li>\n        "};this.updateOptionsHtml=function(c){a.rootNode.innerHTML=
c.map(a.getOption).join("")};this.removeAllOptions=function(){a.rootNode.innerHTML=""};this.clear=function(){a.setValue(void 0);a.removeAllOptions()};this.isEnabled=function(c){return!c.classList.contains("_YXJje_listBoxOptionDisabled_3nuVE")};this.autoSelectSingleOption=function(){var c=a.getFirstOption();1===a.rootNode.children.length&&a.isEnabled(c)&&(a.setValue(c),a.callChangeCallback())};this.getFirstOption=function(){return a.rootNode.firstElementChild};this.getAdjacentOption=function(c){var d=
a.currentSelection;return d?d[c]:null};this.getNextOption=function(){return a.getAdjacentOption("nextElementSibling")};this.getPreviousOption=function(){return a.getAdjacentOption("previousElementSibling")};this.hasSelection=function(){return!!a.currentSelection};this.proxyKeyDown=function(c){return a.handleKeyDown(c)};this.setFocusable=function(){a.rootNode.tabIndex=0};this.disableFocus=function(){a.rootNode.tabIndex=-1};this.focus=function(){return a.rootNode.focus()};this.getActiveOptionId=function(){var c,
d;return null!==(d=null===(c=a.currentSelection)||void 0===c?void 0:c.id)&&void 0!==d?d:""};this.getValue=function(){var c,d;return null!==(d=null===(c=a.currentSelection)||void 0===c?void 0:c.dataset.value)&&void 0!==d?d:""};this.selectNextOption=function(){var c=a.getFirstOption(),d=a.getNextOption(),e;!a.hasSelection()&&c&&a.isEnabled(c)?e=a.getFirstOption():(null===d||void 0===d?0:d.dataset.value)&&a.isEnabled(d)&&(e=d);e&&(a.setValue(e),a.updateViewportToShowSelection(),a.callChangeCallback())};
this.selectPreviousOption=function(){var c=a.getPreviousOption();c&&(a.setValue(c),a.callChangeCallback(),a.updateViewportToShowSelection())};this.updateOptions=function(c){a.clear();a.updateOptionsHtml(c);a.autoSelectSingleOption();a.scrollToTopOption()};this.settings=b;this.rootNode=this.getRootNode();this.addListBoxEventListener()}}(),$a=function(b,a){for(var c=Math.floor(Math.max(b.length,a.length)/2)-1,d=0,e=[],k=[],h=0;h<b.length;h+=1)for(var m=Math.max(0,h-c);m<=Math.min(a.length,h+c);m+=1)if(b[h]===
a[m]&&!e[h]&&!k[m]){d+=1;e[h]=!0;k[m]=!0;break}c=0;if(d){for(h=c=0;h<b.length;h+=1)e[h]!==k[h]&&(c+=1);b=(d/b.length+d/a.length+(d-Math.floor(c/2))/d)/3;for(d=a=0;4>d;d+=1)if(e[d]&&k[d])a+=1;else break;c=b+.1*a*(1-b)}return c},ab=function(b){var a;if(b)try{for(var c=f.__values(Array.from(A.unscope(n["default"].cardRoot).ownerDocument.querySelectorAll("._YXJje_ariaLiveRootJS_12GNi"))),d=c.next();!d.done;d=c.next())d.value.textContent=b}catch(k){var e={error:k}}finally{try{d&&!d.done&&(a=c.return)&&
a.call(c)}finally{if(e)throw e.error;}}},ec=["ArrowRight","ArrowLeft"," "],G,D,ca,bb,E,x,H,ya,da=function(b){return E.setAttribute("aria-activedescendant",b)},fc=function(b,a){return da(a)},gc=function(b){ya(b);G.hide()},hc=function(b){ec.includes(b.key)||x.proxyKeyDown(b)},ic=function(b){var a=parseFloat(Math.min(.3+.05*b.length,.9).toFixed(4));return H.map(function(c){var d=f.__assign,e=f.__assign({},c),k=c.displayText;var h=b.toLowerCase().trim();var m=k.toLowerCase().trim();h===m?h=1:h&&"string"===
typeof h&&0<h.length&&m&&"string"===typeof m&&0<m.length?(k=$a(h,m),h=$a(h.split("").reverse().join(""),m.split("").reverse().join("")),h=Math.max(k,h)):h=0;h=parseFloat(h.toFixed(4));return d.call(f,e,{similarity:h,hasFullMatch:c.displayText.toLowerCase().trim().includes(b.toLowerCase().trim())})}).filter(function(c){return c.similarity>a}).sort(function(c,d){return d.similarity-c.similarity})},jc=function(b){return!!b.find(function(a){return 1===a.similarity})},kc=function(b){return b.filter(function(a){return a.hasFullMatch})},
lc=function(b){b=b.target.value;var a=H;b&&(b=ic(b),a=jc(b)?kc(b):b);b=a;x.updateOptions(b.length?b:[{displayText:g.autocompleteNoResults,value:"",disabled:!0}]);da(x.getActiveOptionId());(b=b.length)?ab(b+" "+g.autocompleteResults):ab(g.autocompleteNoResults)},cb=function(){setTimeout(function(){10<H.length?(E.focus(),x.disableFocus()):(x.setFocusable(),x.focus())},100)},db=function(b){var a=g.autocompleteOverlayHeaderPartial,c=g.autocompleteOverlayHeaderFallback;return b?a+" "+b.toLowerCase():c},
eb=function(b,a){return T().P.when("A",b).execute(a)},mc=function(){var b=ca.getBoundingClientRect(),a=D.closest(".a-popover"),c=parseInt;var d=T().getComputedStyle(a).getPropertyValue("padding-top");c=c(d)||0;a.style.top=b.top-c+"px"},nc=function(b,a){eb("a-popover",function(c,d){var e=b.getBoundingClientRect(),k=Math.min(e.bottom-e.height,500);d=d.create(b,{name:"arcx-autocomplete-overlay",popoverArrow:!1,closeButton:!1,activate:"onclick",position:"triggerBottom",height:k,width:e.width+16,padding:"none"});
c.on("a:popover:afterShow:arcx-autocomplete-overlay",mc);a(d,T().document.querySelector("._YXJje_autocompleteOverlayViewJS_2oaEm"));D.style.height=k-16+"px"})},oc=function(b,a){eb("a-modal",function(c,d){c=d.create(b,{name:"arcx-autocomplete-overlay",header:db(b.dataset.inputLabel),activate:"onclick",closeButton:!0,height:"calc(100% - 20px)",width:"calc(100% - 30px)",padding:"none"});a(c,T().document.querySelector("._YXJje_autocompleteOverlayViewJS_2oaEm"))})},pc=function(b){var a=b.options,c=b.inputLabel,
d=b.onSelect,e=A.unscope(b.triggerNode);(xa()?oc:nc)(e,function(k,h){e&&(ca=e);G=k;D=h;E=D.querySelector("#arcx-autocomplete-input");bb=D.querySelector("#arcx-autocomplete-header");x=new dc({listBoxNode:D.querySelector("#arcx-autocomplete-options"),onSelect:gc,onChange:fc});E.setAttribute("role","combobox");ya=d;fb(c);H=a;da("");x.updateOptions(a);(10<H.length?t:r)(D,"_YXJje_autocompleteOverlayViewSearchInactive_3Yyvq");E.addEventListener("keydown",hc);E.addEventListener("input",lc);G.show();cb()})},
fb=function(b){b=db(b);bb.textContent=b;xa()&&G.update({header:b})},qc=function(b){if(G&&E&&x){var a=b.options,c=b.inputLabel,d=b.onSelect;(b=A.unscope(b.triggerNode))&&(ca=b);G.$trigger[0]=ca;E.value="";fb(c);ya=d;H=a;da("");x.updateOptions(a);(10<H.length?t:r)(D,"_YXJje_autocompleteOverlayViewSearchInactive_3Yyvq");G.show();cb()}else pc(b)},ea,fa,za,U,V,rc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a;return f.__generator(this,function(c){switch(c.label){case 0:return[4,b.render(function(d){a=
d})];case 1:return c.sent(),[2,a]}})})},sc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){switch(a.label){case 0:return ea=A.createElement("div"),[4,rc(b)];case 1:return U=a.sent(),za=(A.unscope(U)||ea).closest(".a-sheet-web")||ea,V=za.querySelector(".a-sheet-close")||ea,[2]}})})},Aa=function(){return V.click()},tc=function(b){"Escape"===b.key&&Aa()},uc=function(){setTimeout(function(){return U.focus()},0)},vc=function(b){if("Tab"===b.key&&b.shiftKey){b.preventDefault();
var a=Qa(U).filter(Mb).reverse()[0];a&&a.focus()}"Enter"!==b.key&&" "!==b.key||Aa()},wc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){switch(a.label){case 0:return[4,sc(b)];case 1:return a.sent(),U.setAttribute("tabindex","-1"),V.setAttribute("role","button"),V.classList.remove("a-focus-hidden"),za.addEventListener("keydown",tc),fa.on("afterShow",uc),V.addEventListener("keydown",vc),fa.forceHide=Aa,[2]}})})},xc=function(b){fa=b;wc(b);return fa},
ha,Ba,gb,hb,ib,yc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a;return f.__generator(this,function(c){switch(c.label){case 0:return[4,b.render(function(d){a=d})];case 1:return c.sent(),[2,a]}})})},zc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){switch(a.label){case 0:return ha=A.createElement("div"),[4,yc(b)];case 1:return hb=a.sent(),gb=(A.unscope(hb)||ha).closest(".a-popover-modal")||ha,ib=gb.querySelector(".a-button-close")||
ha,[2]}})})},Ac=function(){return ib.click()},Bc=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){switch(a.label){case 0:return[4,zc(b)];case 1:return a.sent(),Ba.forceHide=Ac,[2]}})})},Cc=function(b){Ba=b;Bc(b);return Ba},M,N,ia,Ec=function(){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(b){switch(b.label){case 0:return[4,Dc()];case 1:return N=b.sent(),[2]}})})},Fc=function(){return f.__awaiter(void 0,void 0,
void 0,function(){return f.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,c){Ha(["@c/aui-bottom-sheet"],function(d){a(Ka(d))},c)})];case 1:return[2,b.sent()]}})})},Gc=function(){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(b){switch(b.label){case 0:return[4,new Promise(function(a,c){Ha(["@c/aui-modal"],function(d){a(Ka(d))},c)})];case 1:return[2,b.sent()]}})})},jb=function(b,a,c){return function(){return M=a(b.create(c.name,
"._YXJje_overlayRootJS_ukC-R",c))}},Hc=function(){return f.__awaiter(void 0,void 0,void 0,function(){var b,a,c;return f.__generator(this,function(d){switch(d.label){case 0:if(!xa())return[3,2];a=jb;return[4,Fc()];case 1:return b=a.apply(void 0,[d.sent(),xc,{height:530,name:"arcx-overlay"}]),[3,4];case 2:return c=jb,[4,Gc()];case 3:b=c.apply(void 0,[d.sent(),Cc,{name:"arcx-overlay",a11yOpenMessage:g.overlayAriaMessage,closeButton:!0}]),d.label=4;case 4:return ia=b,[2]}})})},Dc=function(){return f.__awaiter(void 0,
void 0,void 0,function(){var b;return f.__generator(this,function(a){switch(a.label){case 0:return[4,(M||ia()).render(function(c){b=c})];case 1:return a.sent(),[2,b]}})})},Ic=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a;return f.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,,4,5]),[4,w.getOverlayContent(b)];case 1:return(a=c.sent())?[4,M.render(function(){qa(N,a,"_YXJje_overlayContentRootJS_b7agF")})]:[3,3];case 2:c.sent(),c.label=3;case 3:return r(N,
"_YXJje_overlayLoadedJS_FgzNR"),[3,5];case 4:return p("overlay:loaded",{overlayRoot:N}),[7];case 5:return[2]}})})},kb=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a;return f.__generator(this,function(c){switch(c.label){case 0:return a=y(b),[4,(M||ia()).show()];case 1:return c.sent(),[4,Ec()];case 2:c.sent();Y.overlayShown();Ta(b);p("overlay:initialized",{overlayRoot:N});if(N.classList.contains("_YXJje_overlayLoadedJS_FgzNR"))return[3,4];c=a;return[4,Ic({asin:g.asin,accessoryEntityType:g.accessoryEntityType,
baseEntityType:g.baseEntityType,baseDisplayName:g.baseDisplayName,target:c.target,subtarget:c.subtarget,preselectedOptions:c.preselectedoptions||g.initialSelections,finderType:g.finderType,finderVariationType:g.finderVariationType,additionalRequiredAttributes:g.requiredAttributes,compatibleEntities:g.compatibleEntities})];case 3:c.sent(),c.label=4;case 4:return[2]}})})},Jc=function(){M&&(M||ia()).forceHide()},Kc=function(b){var a;null===(a=T().P)||void 0===a?void 0:a.when("A").execute(function(c){return c.trigger(b)})},
Lc=function(){function b(a){this.rootNode=a;this.initializeTabPanel()}b.prototype.initializeTabPanel=function(){Kc("a:ajax:complete")};b.prototype.selectTab=function(a){var c=this.rootNode.querySelector("[data-a-tab-name="+a+"]");c?c.click():oa["default"].log('Invalid tab name: "'+a+'" does not exist')};b.prototype.getPanelNode=function(a){return this.rootNode.querySelector("[data-a-name="+a+"]")};return b}(),lb={},mb=function(b){var a;return null!==(a=lb[b])&&void 0!==a?a:void 0},O,Mc=function(b,
a){return f.__awaiter(void 0,void 0,void 0,function(){var c;return f.__generator(this,function(d){switch(d.label){case 0:return d.trys.push([0,,2,3]),[4,w.getTabContent({asin:g.asin,pageType:g.pageType,accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType,baseDisplayName:g.baseDisplayName,target:a,finderType:g.finderType,preselectedOptions:g.initialSelections,additionalRequiredAttributes:g.requiredAttributes,finderVariationType:g.finderVariationType,compatibleEntities:g.compatibleEntities})];
case 1:return c=d.sent(),qa(b,c,"_YXJje_tabContentContainerJS_3B1CD"),r(b,"_YXJje_tabLoaded_1N8aA"),p("tab:loaded",{target:a}),[3,3];case 2:return[7];case 3:return[2]}})})},Nc=function(b){b=b.overlayRoot;var a;if(null!==(a=mb("_YXJje_tabJS_1AKZu"))&&void 0!==a)var c=a;else(a=null!==(c=(null!==b&&void 0!==b?b:n["default"].cardRoot).querySelector("._YXJje_tabJS_1AKZu"))&&void 0!==c?c:void 0)&&(lb._YXJje_tabJS_1AKZu=new Lc(a)),c=mb("_YXJje_tabJS_1AKZu");c&&(O=c)},Oc=function(b){return f.__awaiter(void 0,
void 0,void 0,function(){var a,c;return f.__generator(this,function(d){switch(d.label){case 0:return a=y(b).target||"",c=O.getPanelNode(a),!c||c.classList.contains("_YXJje_tabLoaded_1N8aA")?[3,2]:[4,Mc(c,a)];case 1:d.sent(),d.label=2;case 2:return[2]}})})},Pc=function(b){if(b=O.getPanelNode(b.target))t(b,"_YXJje_tabLoaded_1N8aA"),qa(b,"","_YXJje_tabContentContainerJS_3B1CD")},nb=function(b){O&&O.selectTab(y(b).target||"")},Qc=function(b){O.selectTab(y(b).target||"")},Rc=function(){return function(b){var a=
this;this.setInitialVariables=function(c){var d;a.grid=c;a.numOfColumns=parseInt(null!==(d=a.grid.dataset.colcount)&&void 0!==d?d:"1",10);a.gridItems=a.getGridItems();a.setCurrentIndex(0);a.firstGridItemsIndex=0;a.lastGridItemsIndex=a.gridItems.length-1};this.getGridItems=function(){return Array.from(a.grid.querySelectorAll("._YXJje_gridCellJS_Fi2gd"))};this.setCurrentIndex=function(c){a.currentGridItemIndex=c};this.setGridItemsAsUnfocusable=function(){for(var c=1;c<a.gridItems.length;c+=1)Pa(a.getFirstFocusableByIndex(c))};
this.addEventListeners=function(){a.grid.addEventListener("keydown",a.handleKeydownEvent)};this.handleKeydownEvent=function(c){var d,e=(d={},d.ArrowUp=a.getOneRowUpIndex,d.ArrowRight=a.getNextIndex,d.ArrowDown=a.getOneRowDownIndex,d.ArrowLeft=a.getPreviousIndex,d.Home=a.getHomeIndex,d.End=a.getLastIndex,d)[c.key];c=e?e():a.currentGridItemIndex;e&&a.focusToIndex(c)};this.getNextIndex=function(){return Math.min(a.lastGridItemsIndex,a.currentGridItemIndex+1)};this.getPreviousIndex=function(){return Math.max(0,
a.currentGridItemIndex-1)};this.getOneRowUpIndex=function(){return Math.max(0,a.currentGridItemIndex-a.numOfColumns)};this.getOneRowDownIndex=function(){return Math.min(a.lastGridItemsIndex,a.currentGridItemIndex+a.numOfColumns)};this.getHomeIndex=function(){return a.firstGridItemsIndex};this.getLastIndex=function(){return a.lastGridItemsIndex};this.getFirstFocusableByIndex=function(c){c=a.gridItems[c];var d=Qa(c)[0];return null!==d&&void 0!==d?d:c};this.setItemAsFocusable=function(c){if(c=a.getFirstFocusableByIndex(c))c.tabIndex=
0};this.unfocusCurrentItem=function(){Pa(a.getFirstFocusableByIndex(a.currentGridItemIndex))};this.focusToIndex=function(c){var d=a.getFirstFocusableByIndex(c);a.unfocusCurrentItem();a.setCurrentIndex(c);d&&(d.tabIndex=0);d.focus()};this.setInitialVariables(b);this.setGridItemsAsUnfocusable();this.setItemAsFocusable(0);this.addEventListeners()}}(),Sc=function(){return function(b){var a=this;this.itemIsDeleted=!1;this.addEventHandlers=function(){a.addEventHandler("_YXJje_savedProductRowPrimaryActionJS_3jQfO",
a.handleItemSelection);a.addEventHandler("_YXJje_savedProductRowToggleActionJS_1MIVH",a.handleRemoveToggleSelected);a.addEventHandler("_YXJje_savedProductRowCancelActionJS_1cX5N",a.handleDeleteCancelSelected);a.addEventHandler("_YXJje_savedProductRowSubmitActionJS_1IQjn",a.handleDeleteSubmitSelected);a.addEventHandler("_YXJje_savedProductRowConfirmationActionJS_ygRI-",a.handleDeleteConfirmationSelected)};this.getNode=function(c){return a.rootNode.querySelector("."+c)};this.getPrimaryButton=function(){return a.getNode("_YXJje_savedProductRowPrimaryActionJS_3jQfO")};
this.getRowToggleButton=function(){return a.getNode("_YXJje_savedProductRowToggleActionJS_1MIVH")};this.addEventHandler=function(c,d){var e;null===(e=a.getNode(c))||void 0===e?void 0:e.addEventListener("click",d)};this.setInitialVariables=function(c){a.settings=c;a.rootNode=c.rootNode};this.setItemAsDeleted=function(){a.itemIsDeleted=!0};this.getProductSelections=function(){return B(a.rootNode.dataset.selections)};this.toggleActiveState=function(){a.rowIsActive=!a.rowIsActive;a.getPrimaryButton().setAttribute("aria-pressed",
""+a.rowIsActive)};this.toggleDeleteState=function(){a.deleteIsActive=!a.deleteIsActive;a.getRowToggleButton().setAttribute("aria-expanded",""+a.deleteIsActive)};this.addClass=function(c){r(a.rootNode,c)};this.removeClass=function(c){t(a.rootNode,c)};this.clearAllModifierClasses=function(){a.removeClass("_YXJje_savedProductRowActive_r3Fpa");a.removeClass("_YXJje_savedProductRowDeleteActive_3lKeF")};this.showRowAsActive=function(){a.addClass("_YXJje_savedProductRowActive_r3Fpa")};this.handleItemSelection=
function(){a.toggleActiveState();a.clearAllModifierClasses();a.settings.onSelected();a.rowIsActive&&a.showRowAsActive()};this.handleRemoveToggleSelected=function(){a.toggleDeleteState();a.removeClass("_YXJje_savedProductRowDeleteActive_3lKeF");a.deleteIsActive&&a.addClass("_YXJje_savedProductRowDeleteActive_3lKeF")};this.handleDeleteCancelSelected=function(){a.toggleDeleteState();a.removeClass("_YXJje_savedProductRowDeleteActive_3lKeF")};this.handleDeleteSubmitSelected=function(){return f.__awaiter(a,
void 0,void 0,function(){var c;return f.__generator(this,function(d){switch(d.label){case 0:return[4,w.deleteSavedProduct({selections:this.getProductSelections()})];case 1:if(c=d.sent())this.setItemAsDeleted(),this.handleDeleteSuccess();return[2]}})})};this.handleDeleteSuccess=function(){a.startDeleteAnimation();a.waitAndShowConfirmationMessage();a.settings.onDelete()};this.startDeleteAnimation=function(){a.addClass("_YXJje_savedProductRowDeleteAnimation_2RBxw")};this.waitAndShowConfirmationMessage=
function(){setTimeout(function(){a.addClass("_YXJje_savedProductRowConfirmationActive_qMusD");a.focusToConfirmationAction()},500)};this.focusToConfirmationAction=function(){var c=a.rootNode.querySelector("._YXJje_savedProductRowConfirmationActionJS_ygRI-");null===c||void 0===c?void 0:c.focus()};this.handleDeleteConfirmationSelected=function(){a.addClass("_YXJje_savedProductRowHidden_31MNO")};this.getDataValue=function(c){return a.rootNode.dataset[c]};this.getBaseType=function(){return a.getDataValue("baseType")};
this.getDataSource=function(){return a.getDataValue("source")};this.getSelections=function(){return a.getProductSelections()};this.deactivate=function(){a.rowIsActive=!1;a.deleteIsActive=!1;a.removeClass("_YXJje_savedProductRowActive_r3Fpa");a.removeClass("_YXJje_savedProductRowDeleteActive_3lKeF")};this.isDeleted=function(){return a.itemIsDeleted};this.setInitialVariables(b);this.addEventHandlers()}}(),P,I,u=void 0,Tc=function(){return 0===I.filter(function(b){return!b.isDeleted()}).length},ja=function(){return P.querySelector("._YXJje_savedProductsRootJS_1VBPP")},
Uc=function(b){P=b.overlayRoot;ob()},Vc=function(){ob()},Wc=function(){I=u=void 0;p("tab:clear",{target:"savedProducts"})},ob=function(){if(!I&&ja()){var b=(null!==P&&void 0!==P?P:n["default"].cardRoot).querySelector("._YXJje_gridItemsRootJS_KoYhq");b&&new Rc(b);I=Array.from(P.getElementsByClassName("_YXJje_savedProductsItemJS_21jCT")).map(Xc)}},Xc=function(b,a){return new Sc({rootNode:b,onSelected:Yc(a),onDelete:Zc(a)})},Zc=function(b){return function(){u=u!==b?b:void 0;(void 0!==u?r:t)(ja(),"_YXJje_savedProductsSubmitActive_3L4cA");
p("saved-products:item-deleted");Tc()&&r(ja(),"_YXJje_savedProductsNoItems_1i1hf")}},Yc=function(b){return function(){void 0!==u&&u!==b&&I[u].deactivate();u=u!==b?b:void 0;(void 0!==u?r:t)(ja(),"_YXJje_savedProductsSubmitActive_3L4cA")}},$c=function(){var b,a=null!==(b=Nb[I[u].getDataSource()])&&void 0!==b?b:"";Sa("pga"+a,"savedProductsGrid");b=I[u];a=b.getBaseType();g.baseEntityType=a;p("saved-products:show-results",{selections:b.getSelections()})},ka,pb=function(){return[n["default"].cardRoot.querySelector("._YXJje_loadingIndicator_22UzT"),
null===ka||void 0===ka?void 0:ka.querySelector("._YXJje_loadingIndicator_22UzT")].filter(Boolean)},ad=function(b){ka=b.overlayRoot;Ca()},bd=function(){ra(pb())},Ca=function(){sa(pb())},z,cd=function(b){z=b.overlayRoot},qb=function(b){b="show"===b?r:t;b(n["default"].cardRoot,"_YXJje_errorActive_2xEUg");z&&b(z,"_YXJje_errorActive_2xEUg")},rb=function(b){b="show"===b?ra:sa;var a=[n["default"].cardRoot.querySelector("._YXJje_globalErrorMessage_1kkRe"),null===z||void 0===z?void 0:z.querySelector("._YXJje_globalErrorMessage_1kkRe")].filter(Boolean);
b(a)},dd=function(b,a){return a.reduce(function(c,d){var e,k=d.dataset.errorCode;c[k]=null!==(e=c[k])&&void 0!==e?e:[];c[k].push(d);return c},{})},ed=function(b){qb("show");rb("show");b=b.statusCode;var a,c=Array.from((null!==z&&void 0!==z?z:n["default"].cardRoot).querySelectorAll("[data-error-code]")),d=dd(b,c);sa(c);ra(null!==(a=d[b])&&void 0!==a?a:d.global)},fd=function(){qb("hide");rb("hide")},gd=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){a=
b.selections;b.entityShouldBeSaved&&(w.saveProduct({selections:a,accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType}),p("entity:saved"));p("selections:submitted",{selections:b.selections});return[2]})})},hd=function(){["add-product:submit","saved-products:show-results","product-stripe:product-selected"].forEach(function(b){l(b,gd)})},id=function(b){var a=y(b),c=a.id;ta(b);Ta(b);g.baseEntityType=c;b=B(a.selections);p("product-stripe:product-selected",{selections:b,baseType:c})},
W,la,Da,ma,Q,jd=function(){return f.__awaiter(void 0,void 0,void 0,function(){var b;return f.__generator(this,function(a){switch(a.label){case 0:return[4,w.getTabContent({target:"inline"===la.dataset.type?"addProductHorizontal":"addProduct",pageType:g.pageType,accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType,finderType:g.finderType,finderVariationType:g.finderVariationType})];case 1:return b=a.sent(),Da&&aa(Da,b),p("product-type:selected"),[2]}})})},kd=function(b){if((b=b[0])&&
!Q||b.value!==Q.value)sb(b),jd()},Ea=function(){la&&!ma&&(ma=new Wa({rootNode:la,currentSelections:[Q].filter(Boolean),onAllInputsSelected:kd}))},Fa=function(){la=W.querySelector("._YXJje_productTypeFormJS_38Bbt");Da=W.querySelector("._YXJje_productTypeAttributesJS_11thX")},ld=function(b){W=b.overlayRoot;Fa();Ea()},md=function(){Fa();Ea()},sb=function(b){b&&(Q=b,g.baseEntityType=b.value)},nd=function(b){b=y(b);var a;1<g.compatibleEntities.length&&((b=b.preselectedoptions)&&(a=B(b)[0]),a&&ma&&(a&&
!Q||a.value!==Q.value)&&(ma.selectInputValue(a.id,a.value),p("product-type:selected")),sb(a))},od=function(b){w.setMostRecentlyUsedProduct({accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType,selections:b.selections})},tb=function(b,a,c,d){var e,k,h,m,J=g.nexusRetailContext,Ga=J.customerId;b={deviceType:J.deviceType,deviceOS:J.deviceOS,marketplaceId:J.marketplaceId,requestId:J.requestId,sessionId:J.sessionId,widgetType:J.widgetType,event:b,customerId:null!==Ga&&void 0!==Ga?Ga:
null,eventDescription:a,asin:null!==(e=g.asin)&&void 0!==e?e:null,compatibleDeviceProductType:null!==(k=g.baseEntityType)&&void 0!==k?k:null,compatibleDeviceAttributes:null!==(h=null!==d&&void 0!==d?d:g.initialSelections)&&void 0!==h?h:null,fitmentState:null!==(m=null!==c&&void 0!==c?c:g.fitmentState)&&void 0!==m?m:null};try{F.event(b,"arcx-detail-page","arcx.detail.page.checkfitment.5",void 0)}catch(pd){oa["default"].log("Failed to log nexus metric with error: "+pd)}},qd=[{__proto__:null,getData:function(){return Object.assign({},
g)},getValue:function(b){return g[b]},setValue:function(b,a){g[b]=a},init:function(){var b,a=n["default"].cardRoot.querySelector("[data-client]");g=null!==(b=B(a?a.dataset.client:n["default"].cardRoot.dataset.client))&&void 0!==b?b:{};var c;if(null===(c=g.compatibleEntities)||void 0===c?0:c.length)if(g.accessoryEntityType=g.compatibleEntities[0].accessoryType,b=g.compatibleEntities,(a=g.fitmentEntity)||1===b.length)b=null!==a&&void 0!==a?a:b[0],g=f.__assign(f.__assign({},g),{baseEntityType:b.baseType,
baseDisplayName:b.baseDisplayName,accessoryEntityType:b.accessoryType,initialSelections:b.selections,additionalRequiredAttributes:b.additionalRequiredAttributes})}},Kb,{__proto__:null,init:function(b){b(q.finderAction,"click",ta)}},{__proto__:null,init:function(b){b(pa.productSelected,"click",id)}},{__proto__:null,init:function(b){l("overlay:loaded",ld);l("tab:loaded",md);b(q.finderAction,"click",nd);W=n["default"].cardRoot;W.querySelector("._YXJje_productTypeFormJS_38Bbt")&&(Fa(),Ea())}},{__proto__:null,
init:function(b){l("overlay:loaded",Nc);l("tab:clear",Pc);b(q.finderAction,"click",nb);b(q.fitmentAction,"click",nb);b(q.tabSelected,"click",Oc);b(q.changeOverlayTab,"click",Qc)}},{__proto__:null,init:function(){l("remote-operation:start",bd);l("remote-operation:error",Ca);l("remote-operation:end",Ca);l("overlay:loaded",ad)}},{__proto__:null,init:function(){l("remote-operation:start",fd);l("remote-operation:error",ed);l("overlay:initialized",cd)}},{__proto__:null,init:function(b){l("overlay:loaded",
Ub);l("tab:loaded",Vb);l("product-type:selected",cc);l("fitment:shown",Za);b(q.addProductSubmit,"click",Zb);b(q.fitmentActionClear,"click",Za);b(q.finderAction,"click",$b);ba=n["default"].cardRoot;wa()}},{__proto__:null,init:function(){l("autocomplete-trigger:selected",qc)}},{__proto__:null,init:function(b){Hc();l("fitment:shown",Jc);b(q.finderAction,"click",kb);b(q.fitmentAction,"click",kb)}},{__proto__:null,init:function(b){l("overlay:loaded",Uc);l("tab:loaded",Vc);l("entity:saved",Wc);b(q.savedProductsShowResults,
"click",$c)}},{__proto__:null,init:function(){l("fitment:shown",od)}},{__proto__:null,init:function(){hd()}}],rd=function(b){var a=vb.setup().define;f.__spread(qd,b).map(function(c){var d;return null===(d=c.init)||void 0===d?void 0:d.call(c,a)})},sd=function(b){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(a){rd(b.additionalClientModules);a=b.operationRefTags;va=b.pageRefTagMarker;ua=f.__assign(f.__assign({},ua),a);Object.keys(w).forEach(Qb);v.render();tb("Impression",
"widget impression",void 0,void 0);return[2]})})},td={Success:v.fitmentSuccess,Info:v.fitmentInfo,Warning:v.fitmentWarning,Failure:v.fitmentFailure},R=function(b){return n["default"].cardRoot.querySelector("."+b)},ud=function(b,a){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(c){switch(c.label){case 0:return[4,w.getFitmentContent({finderVariationType:g.finderVariationType,accessoryEntityType:g.accessoryEntityType,baseEntityType:g.baseEntityType,asin:b,selections:a})];
case 1:return[2,c.sent()]}})})},vd=function(){var b=R("_YXJje_viewFitmentContentJS_2ZDPJ").querySelector("._YXJje_fitmentStripeTextJS_MeaQq");setTimeout(function(){return b.focus()},100)},ub=function(b){if("stripe"===b){b="_YXJje_viewStripeContent_2c9dp";var a="_YXJje_viewFitmentContent_1kBI6"}else b="_YXJje_viewFitmentContent_1kBI6",a="_YXJje_viewStripeContent_2c9dp";Na(R(b));Oa(R(a))},wd=function(b){return f.__awaiter(void 0,void 0,void 0,function(){var a,c,d;return f.__generator(this,function(e){switch(e.label){case 0:return a=
b.selections,c=g.asin,[4,ud(c,a)];case 1:if(d=e.sent())aa(R("_YXJje_viewFitmentContentJS_2ZDPJ"),d),ub("fitment"),r(n["default"].cardRoot,"_YXJje_viewFitmentResult_2f5n1"),vd(),(e=td[R("_YXJje_viewFitmentContentJS_2ZDPJ").querySelector("._YXJje_fitmentStripeJS_2-1hu").dataset.fitment||""])&&e(),e=R("_YXJje_viewFitmentContentJS_2ZDPJ").querySelector("._YXJje_fitmentStripeJS_2-1hu").dataset.fitment||"",tb("Impression","widget impression",e,a),p("fitment:shown",{selections:a});return[2]}})})},xd=function(){ub("stripe");
t(n["default"].cardRoot,"_YXJje_viewFitmentResult_2f5n1")},yd={__proto__:null,init:function(b){l("selections:submitted",wd);b(pa.fitmentAction,"click",ta);b(pa.fitmentActionClear,"click",xd)}};Ia._operationNames="getFitmentContent getOverlayContent getTabContent getNextAttribute saveProduct setMostRecentlyUsedProduct deleteSavedProduct".split(" ");Ia.card=function(){return f.__awaiter(void 0,void 0,void 0,function(){return f.__generator(this,function(b){return[2,sd({additionalClientModules:[yd],pageRefTagMarker:"dp",
operationRefTags:{getFitmentContent:"ck"}})]})})}});
